<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> -->
    <!-- 上一条代码IE=edge告诉IE使用最新的引擎渲染网页，chrome=1则可以激活Chrome Frame. -->
    <!-- https://blog.csdn.net/oJingZhiYuan12/article/details/88015130 -->
    <!-- 不过现在都什么年代了，IE我们就别考虑了吧，哈哈哈。 -->

    <title>syntax-tree-parser</title>

    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link href="css/style.css" rel="stylesheet" type="text/css"> -->
    <style type="text/css">
        body{background: #eee;}
        .container.main{background: #fff;}
        #the_box{min-height: 80vh;}
        .span-nav-desc{font-size: 0.6em;}
    </style>

</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#the_navbar_toggler" aria-controls="the_navbar_toggler" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="the_navbar_toggler">
        <a class="navbar-brand" href="#">syntax-tree-parser</a>
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
          <li class="nav-item active" id="tab-datas">
            <a class="nav-link" href="#">立即使用<span class="span-nav-desc"> (当前为样例)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">选项<span class="span-nav-desc"> (暂未开放)</span></a>
          </li>
        </ul>
        <ul class="navbar-nav mt-2 mt-lg-0">
          <li class="nav-item" id="tab-about">
            <a class="nav-link" href="#">关于</a>
          </li>
        </ul><!-- 
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form> -->
      </div>
    </nav>



    <div class="container my-5 py-5 main" id="the_box">
        <div class="row"><div class="col-12"><h4>填写</h4></div></div>
        <div class="row">
            <div class="col">
                <form name="the_form" class="container">
                    <div class="form-group row">
                        <label for="the_text" class="col-sm-2 col-form-label">树表达式</label>
                        <div class="col-sm-10">
                            <!-- <input type="text" class="form-control" name="the_text" id="the_text" value="S[S1_SR[1Thead_n[1T[_1[一],te[十]],_n[_u[九]]],wa[万],Rr[_u[六]]]]"> -->
                            <textarea type="textarea" class="form-control" name="the_text" id="the_text" rows="3">dj:主谓{  np:单词(n) , vp:述宾[  vp:单词(v) , np:单词(n)  ]  }
dj:主谓{  np:单词(n) , np:粘合定中[  vp:单词(v) , n  ]  }
np:定中{  np:单词(n) , np:粘合定中[  vp:单词(v) , n  ]  }
np:联合{  np:单词(n) , np:粘合定中[  vp:单词(v) , n  ]  };
vp:状中{  np:单词(n) , vp:述宾[  vp:单词(v) , np:单词(n)  ]  }
vp:述宾{  vp:状中[  np:单词(n) , vp:单词(v)  ] , np:单词(n)  }
dj:存在{  np:单词(n) , vp:单词(v) , np:单词(n)  };np:粘合定中{  vp:状中[  np:单词(n) , vp:单词(v)  ] , n  }
dj:主谓{  np:粘合定中[  n , v  ] , np:单词(n)  }
np:定中{  np:粘合定中[  n , v  ] , np:单词(n)  }
np:联合{  np:粘合定中[  n , v  ] , np:单词(n)  }</textarea>
                        </div>
                    </div>
                    <button type="button" name="the_submit_btn" id="the_submit_btn" class="btn btn-primary">画出来！</button>
                </form>
            </div>
        </div>
        <hr />
        <div class="row mt-5 mb-3"><div class="col"><h4>出图</h4></div></div>
        <div class="row">
            <div class="col-12">
                <div id="the_svg_wrap"></div>
            </div>
        </div>
    </div>



    <footer class="pt-4 pb-2 bg-dark text-white">
      <div class="container text-center">
        <p>啦啦啦。</p>
      </div>
    </footer>


    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.bootcss.com/d3/5.12.0/d3.min.js"></script>

    <script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        // console.log('天地好在否！');
        d3.select("#the_submit_btn").on("click",()=>{
            l = d3.select("#the_text").node().value.split(/[\n;]+/);
            console.log(l);
            l.forEach((t,i)=>{drawTree('#the_svg_wrap',treeParser(t))});
        });
    </script>

</body>

</html>
